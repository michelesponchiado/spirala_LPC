<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">

<html><head><title>CO_SDO.h</title><link rel="stylesheet" type="text/css" href="../styles/main.css"><script language=JavaScript src="../javascript/main.js"></script><script language=JavaScript src="../javascript/searchdata.js"></script></head><body class="ContentPage" onLoad="NDOnLoad()"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version 1.4 -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CFile"><div class=CTopic id=MainTopic><h1 class=CTitle><a name="CO_SDO.h"></a>CO_SDO.h</h1><div class=CBody><p>CANopen SDO server object (SDO slave).</p><p>Copyright &copy; 2004-2008 Janez Paternoster</p><p>License: GNU Lesser General Public License (LGPL).</p><p><a href="http://canopennode.sourceforge.net" class=LURL target=_top>http://canopennode.sourceforge.net</a></p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#CO_SDO.h" >CO_SDO.h</a></td><td class=SDescription>CANopen SDO server object (SDO slave).</td></tr><tr class="SGeneric SMarked"><td class=SEntry><a href="#Object_Dictionary" >Object Dictionary</a></td><td class=SDescription>Description of CANopen Object Distionary, as implemented here, in CANopenNode.</td></tr><tr class="SGeneric"><td class=SEntry><a href="#SDO_server_access_function" >SDO server access function</a></td><td class=SDescription>Function, which reads/writes Object dictionary variable data.</td></tr><tr class="SGeneric SMarked"><td class=SEntry><a href="#SDO_message_contents" >SDO message contents</a></td><td class=SDescription>Contents of SDO messages.</td></tr><tr class="SGeneric"><td class=SEntry><a href="#SDO_abort_code" >SDO abort code</a></td><td class=SDescription>Send with Abort SDO transfer message.</td></tr><tr class="SGroup"><td class=SEntry><a href="#Constants" >Constants</a></td><td class=SDescription></td></tr><tr class="SConstant SIndent1 SMarked"><td class=SEntry><a href="#Maximum_object_size_in_Object_Dictionary" >Maximum object size in Object Dictionary</a></td><td class=SDescription></td></tr><tr class="SConstant SIndent1"><td class=SEntry><a href="#Attribute_flags_for_sCO_OD_object" >Attribute flags for sCO_OD_object</a></td><td class=SDescription></td></tr><tr class="SGroup"><td class=SEntry><a href="#Variables" >Variables</a></td><td class=SDescription></td></tr><tr class="SVariable SIndent1 SMarked"><td class=SEntry><a href="#sCO_OD_object" id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">sCO_OD_object</a></td><td class=SDescription>Type for Object Dictionary array.</td></tr><tr class="SVariable SIndent1"><td class=SEntry><a href="#CO_ODrecord_t" id=link2 onMouseOver="ShowTip(event, 'tt2', 'link2')" onMouseOut="HideTip('tt2')">CO_ODrecord_t</a></td><td class=SDescription>Type for record type objects in Object Dictionary array.</td></tr><tr class="SVariable SIndent1 SMarked"><td class=SEntry><a href="#OD_SDOServerParameter_t" id=link3 onMouseOver="ShowTip(event, 'tt3', 'link3')" onMouseOut="HideTip('tt3')">OD_SDOServerParameter_t</a></td><td class=SDescription><u>SDO Server Parameter</u> record from Object dictionary (index 0x1200+).</td></tr><tr class="SVariable SIndent1"><td class=SEntry><a href="#CO_SDO_t" id=link4 onMouseOver="ShowTip(event, 'tt4', 'link4')" onMouseOut="HideTip('tt4')">CO_SDO_t</a></td><td class=SDescription>Object controls SDO server.</td></tr><tr class="SGroup"><td class=SEntry><a href="#Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#CO_SDO_receive" id=link5 onMouseOver="ShowTip(event, 'tt5', 'link5')" onMouseOut="HideTip('tt5')">CO_SDO_receive</a></td><td class=SDescription>Read received message from CAN module.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#CO_ODF" id=link6 onMouseOver="ShowTip(event, 'tt6', 'link6')" onMouseOut="HideTip('tt6')">CO_ODF</a></td><td class=SDescription>Default function for SDO server access of variables from Object Dictionary.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#CO_ODF_1200" id=link7 onMouseOver="ShowTip(event, 'tt7', 'link7')" onMouseOut="HideTip('tt7')">CO_ODF_1200</a></td><td class=SDescription>Function for accessing <u>SDO server parameter</u> (index 0x1200+) from SDO server.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#CO_OD_configureArgumentForODF" id=link8 onMouseOver="ShowTip(event, 'tt8', 'link8')" onMouseOut="HideTip('tt8')">CO_OD_configureArgumentForODF</a></td><td class=SDescription>Configure first argument, which will be passed to CO_ODFxxx function.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#CO_SDO_init" id=link9 onMouseOver="ShowTip(event, 'tt9', 'link9')" onMouseOut="HideTip('tt9')">CO_SDO_init</a></td><td class=SDescription>Initialize SDO object.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#CO_SDO_delete" id=link10 onMouseOver="ShowTip(event, 'tt10', 'link10')" onMouseOut="HideTip('tt10')">CO_SDO_delete</a></td><td class=SDescription>Delete SDO object and free memory.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#CO_OD_find" id=link11 onMouseOver="ShowTip(event, 'tt11', 'link11')" onMouseOut="HideTip('tt11')">CO_OD_find</a></td><td class=SDescription>Find object with specific index in Object Dictionary.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#CO_OD_getLength" id=link12 onMouseOver="ShowTip(event, 'tt12', 'link12')" onMouseOut="HideTip('tt12')">CO_OD_getLength</a></td><td class=SDescription>Get length of given object with specific subIndex.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#CO_OD_getAttribute" id=link13 onMouseOver="ShowTip(event, 'tt13', 'link13')" onMouseOut="HideTip('tt13')">CO_OD_getAttribute</a></td><td class=SDescription>Get attribute of given object with specific subIndex.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#CO_OD_getDataPointer" id=link14 onMouseOver="ShowTip(event, 'tt14', 'link14')" onMouseOut="HideTip('tt14')">CO_OD_getDataPointer</a></td><td class=SDescription>Get pointer to data of given object with specific subIndex.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#CO_SDO_process" id=link15 onMouseOver="ShowTip(event, 'tt15', 'link15')" onMouseOut="HideTip('tt15')">CO_SDO_process</a></td><td class=SDescription>Process SDO communication.</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="Object_Dictionary"></a>Object Dictionary</h3><div class=CBody><p>Description of CANopen Object Distionary, as implemented here, in CANopenNode.</p><p>One of the most powerful feature of CANopen is Object Dictionary.&nbsp; It is like a table, where are collected all network-accessible data.&nbsp; One varible in Object dictionary is located under 16-bit index.&nbsp; If variable type is array or structure (Record as notated by CANopen), then every member has assigned also a subIndex.&nbsp; CANopen provides SDO objects to access different variables in Object Dictionary.</p><p>In CANopenNode Object Dictionary is an array of objects CO_OD[].&nbsp; Each object has its own index.&nbsp; Object Type can be: Variable, Array of variables or Record.&nbsp; (Record is like a structure in C.)&nbsp; Each object has also information about access, memory type, length and pointer to data variable, etc.</p><h4 class=CHeading>There are &lsquo;Two sides&rsquo; of Object Dictionary in CANopenNode</h4><ul><li>Program side: Variables have ordinary names (no index, subIndex) and types;</li><li>CANopen side: Ordinary variables are collected in CO_OD array and so SDO server have access to them through index, subIndex and length (read only, read/write etc.).</li></ul><h4 class=CHeading>Memory strategy in CANopenNode</h4><p>Memory for Object Dictionary variables is divided into three groups (structures).&nbsp; Each variable can be in any of the following groups:</p><ul><li><b>RAM variables</b> are for general use.&nbsp; On startup they have initial value.&nbsp; They can be changed by application or from network side (by SDO communication).</li><li><b>EEPROM variables</b> are retentive (value is retained, if power supply is disconnected).&nbsp; They can be changed by application (usage is the same as with RAM variables).&nbsp; Of course they can also be changed from network side.&nbsp; Access to them is fast.&nbsp; On some processors are memory resources for them limited.&nbsp; They can be used for example for counter of events.</li><li><b>ROM variables</b> are retentive.&nbsp; By application they can be read normally, but they can <u>not</u> be changed.&nbsp; Anyway, they are writeable from network side.&nbsp; Memory resources for them are large on all processors.&nbsp; On some processors writing to it takes some time.&nbsp; They can be used for example for many configuration parameters.</li></ul></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="SDO_server_access_function"></a>SDO server access function</h3><div class=CBody><p>Function, which reads/writes Object dictionary variable data.</p><p>SDO server access functions are called through function pointer, which is assigned to each object in Object Dictionary.&nbsp; Functions are called by SDO Server, which reads (or writes) value from (to) specific Object.&nbsp; (SDO server does not have direct access to Object Dictionary variables.&nbsp; When it needs to read or write specific variable, it calls a SDO server access function.)</p><p>Each SDO Server access function has a prefix CO_ODF to its function name.</p><p>Basic function is <a href="#CO_ODF" class=LFunction id=link16 onMouseOver="ShowTip(event, 'tt6', 'link16')" onMouseOut="HideTip('tt6')">CO_ODF</a>, which reads or writes into RAM or ROM.&nbsp; If microcontroller uses different memory strategies for retentive usage, this function may be implemented in CO_driver.c file.</p><p>To any object can be assigned also a custom function, which has total control over the Object Dictionary object.&nbsp; Object Dictionary Editor gives two possibilities for custom function:</p><ul><li>SDO Server <u>external</u> function is for example CO_ODF_RPDOcom() or CO_ODF_RPDOmap(), which handle PDO mapping or communication parameters.&nbsp; These functions are very powerful, because they can handle for example dynamic PDO mapping, etc.&nbsp; User can write his own CO_ODF_ function and assign it to his object, to have full control over it.&nbsp; One limitation to external function is, that object can not be dynamically mapped into PDO.</li><li><u>Default with user code</u> SDO Server access function is simpler.&nbsp; It can be used most commonly for verifying data, before SDO server writes them to memory.&nbsp; Most usual is to verify low and high limit of the variable and return SDO abort code, if value is out of range.&nbsp; Function code can be written directly in Object Dictionary Editor.</li></ul><p>First argument (object) to SDO server access function is a little special.&nbsp; It can be used with SDO Server <u>external</u> function.&nbsp; It is a void pointer to object, which contains additional information, how to handle the data.&nbsp; If SDO server access function uses it, it <b>must be configured</b> in function <a href="#CO_OD_configureArgumentForODF" class=LFunction id=link17 onMouseOver="ShowTip(event, 'tt8', 'link17')" onMouseOut="HideTip('tt8')">CO_OD_configureArgumentForODF</a>.</p><p>Argument &lsquo;dataBuff&rsquo; contains raw data, which are directly connected with CAN (CANopen) message.&nbsp; CANopen itself is a little endian, so &lsquo;dataBuff&rsquo; is also little endian.&nbsp; Care must be taken, when manipulating with this argument.&nbsp; Helper functions may be used with it, for example <a href="BECK_SC2x3/CO_driver-h.html#memcpySwapN" class=LFunction id=link18 onMouseOver="ShowTip(event, 'tt16', 'link18')" onMouseOut="HideTip('tt16')">memcpySwapN</a>.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>object</td><td class=CDLDescription>object passed to <a href="#CO_OD_configureArgumentForODF" class=LFunction id=link19 onMouseOver="ShowTip(event, 'tt8', 'link19')" onMouseOut="HideTip('tt8')">CO_OD_configureArgumentForODF</a> function.</td></tr><tr><td class=CDLEntry>index</td><td class=CDLDescription>Index of object in object dictionary (informative).</td></tr><tr><td class=CDLEntry>subIndex</td><td class=CDLDescription>Subindex of object in object dictionary (informative).</td></tr><tr><td class=CDLEntry>attribute</td><td class=CDLDescription>Attribute of object in object dictionary (informative).</td></tr><tr><td class=CDLEntry>pLength</td><td class=CDLDescription>Pointer to number of bytes to be transfered (writeable).</td></tr><tr><td class=CDLEntry>dir</td><td class=CDLDescription>Equal to 0 when reading, equal to 1 when writing.</td></tr><tr><td class=CDLEntry>dataBuff</td><td class=CDLDescription>Pointer to RAM data buffer to/from where data will be transfered.</td></tr><tr><td class=CDLEntry>pData</td><td class=CDLDescription>Pointer to variable in Object Dictionary.</td></tr></table><h4 class=CHeading>Return</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>0</td><td class=CDLDescription>Data transfer is successful.</td></tr><tr><td class=CDLEntry>different than 0</td><td class=CDLDescription>Failure.&nbsp; See <a href="#SDO_abort_code" class=LGeneric id=link20 onMouseOver="ShowTip(event, 'tt17', 'link20')" onMouseOut="HideTip('tt17')">SDO abort code</a>.</td></tr></table></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="SDO_message_contents"></a>SDO message contents</h3><div class=CBody><p>Contents of SDO messages.</p><p>For CAN identifier see &lt;Default COB identifiers&gt;.</p><p>Expedited transfer is used for transmission of up to 4 data bytes.&nbsp; It consists of one SDO request and one response.&nbsp; For longer variables is used segmented transfer.</p><h4 class=CHeading>Initiate SDO download (client request)</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>byte 0</td><td class=CDLDescription>SDO command specifier.&nbsp; 8 bits: &lsquo;0010nnes&rsquo; (nn: if e=s=1, number of data bytes, that do <u>not</u> contain data; e=1 for expedited transfer; s=1 if data size is indicated).</td></tr><tr><td class=CDLEntry>byte 1..2</td><td class=CDLDescription>Object index.</td></tr><tr><td class=CDLEntry>byte 3</td><td class=CDLDescription>Object subIndex.</td></tr><tr><td class=CDLEntry>byte 4..7</td><td class=CDLDescription>Expedited data or data size if segmented transfer.</td></tr></table><h4 class=CHeading>Initiate SDO download (server response)</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>byte 0</td><td class=CDLDescription>SDO command specifier.&nbsp; 8 bits: &lsquo;01100000&rsquo;.</td></tr><tr><td class=CDLEntry>byte 1..2</td><td class=CDLDescription>Object index.</td></tr><tr><td class=CDLEntry>byte 3</td><td class=CDLDescription>Object subIndex.</td></tr><tr><td class=CDLEntry>byte 4..7</td><td class=CDLDescription>reserved.</td></tr></table><h4 class=CHeading>Download SDO segment (client request)</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>byte 0</td><td class=CDLDescription>SDO command specifier.&nbsp; 8 bits: &lsquo;000tnnnc&rsquo; (t: toggle bit set to 0 in first segment; nnn: number of data bytes, that do <u>not</u> contain data; c=1 if this is the last segment).</td></tr><tr><td class=CDLEntry>byte 1..7</td><td class=CDLDescription>Data segment.</td></tr></table><h4 class=CHeading>Download SDO segment (server response)</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>byte 0</td><td class=CDLDescription>SDO command specifier.&nbsp; 8 bits: &lsquo;001t0000&rsquo; (t: toggle bit set to 0 in first segment).</td></tr><tr><td class=CDLEntry>byte 1..7</td><td class=CDLDescription>Reserved.</td></tr></table><h4 class=CHeading>Initiate SDO upload (client request)</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>byte 0</td><td class=CDLDescription>SDO command specifier.&nbsp; 8 bits: &lsquo;01000000&rsquo;.</td></tr><tr><td class=CDLEntry>byte 1..2</td><td class=CDLDescription>Object index.</td></tr><tr><td class=CDLEntry>byte 3</td><td class=CDLDescription>Object subIndex.</td></tr><tr><td class=CDLEntry>byte 4..7</td><td class=CDLDescription>Reserved.</td></tr></table><h4 class=CHeading>Initiate SDO upload (server response)</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>byte 0</td><td class=CDLDescription>SDO command specifier.&nbsp; 8 bits: &lsquo;0100nnes&rsquo; (nn: if e=s=1, number of data bytes, that do <u>not</u> contain data; e=1 for expedited transfer; s=1 if data size is indicated).</td></tr><tr><td class=CDLEntry>byte 1..2</td><td class=CDLDescription>Object index.</td></tr><tr><td class=CDLEntry>byte 3</td><td class=CDLDescription>Object subIndex.</td></tr><tr><td class=CDLEntry>byte 4..7</td><td class=CDLDescription>reserved.</td></tr></table><h4 class=CHeading>Upload SDO segment (client request)</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>byte 0</td><td class=CDLDescription>SDO command specifier.&nbsp; 8 bits: &lsquo;011t0000&rsquo; (t: toggle bit set to 0 in first segment).</td></tr><tr><td class=CDLEntry>byte 1..7</td><td class=CDLDescription>Reserved.</td></tr></table><h4 class=CHeading>Upload SDO segment (server response)</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>byte 0</td><td class=CDLDescription>SDO command specifier.&nbsp; 8 bits: &lsquo;000tnnnc&rsquo; (t: toggle bit set to 0 in first segment; nnn: number of data bytes, that do <u>not</u> contain data; c=1 if this is the last segment).</td></tr><tr><td class=CDLEntry>byte 1..7</td><td class=CDLDescription>Data segment.</td></tr></table><h4 class=CHeading>Abort SDO transfer (client or server)</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>byte 0</td><td class=CDLDescription>SDO command specifier.&nbsp; 8 bits: &lsquo;10000000&rsquo;.</td></tr><tr><td class=CDLEntry>byte 1..2</td><td class=CDLDescription>Object index.</td></tr><tr><td class=CDLEntry>byte 3</td><td class=CDLDescription>Object subIndex.</td></tr><tr><td class=CDLEntry>byte 4..7</td><td class=CDLDescription><a href="#SDO_abort_code" class=LGeneric id=link21 onMouseOver="ShowTip(event, 'tt17', 'link21')" onMouseOut="HideTip('tt17')">SDO abort code</a>.</td></tr></table><h4 class=CHeading>Byte 0 contents for SDO client request</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>0010nnes</td><td class=CDLDescription>Download initiate.</td></tr><tr><td class=CDLEntry>000tnnnc</td><td class=CDLDescription>Download segment.</td></tr><tr><td class=CDLEntry>01000000</td><td class=CDLDescription>Upload initiate.</td></tr><tr><td class=CDLEntry>011t0000</td><td class=CDLDescription>Upload segment.</td></tr><tr><td class=CDLEntry>11000rs0</td><td class=CDLDescription>Block download initiate.</td></tr><tr><td class=CDLEntry>csssssss</td><td class=CDLDescription>Block download sub-block (sequence).</td></tr><tr><td class=CDLEntry>110nnn01</td><td class=CDLDescription>Block download end.</td></tr><tr><td class=CDLEntry>10000000</td><td class=CDLDescription>Abort transfer.</td></tr></table><h4 class=CHeading>Byte 0 contents for server response</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>01100000</td><td class=CDLDescription>Download initiate.</td></tr><tr><td class=CDLEntry>001t0000</td><td class=CDLDescription>Download segment.</td></tr><tr><td class=CDLEntry>0100nnes</td><td class=CDLDescription>Upload initiate.</td></tr><tr><td class=CDLEntry>000tnnnc</td><td class=CDLDescription>Upload segment.</td></tr><tr><td class=CDLEntry>10100r00</td><td class=CDLDescription>Block download initiate.</td></tr><tr><td class=CDLEntry>10100010</td><td class=CDLDescription>Block download sub-block (after sequence).</td></tr><tr><td class=CDLEntry>10100001</td><td class=CDLDescription>Block download end.</td></tr><tr><td class=CDLEntry>10000000</td><td class=CDLDescription>Abort transfer.</td></tr></table></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="SDO_abort_code"></a>SDO abort code</h3><div class=CBody><p>Send with Abort SDO transfer message.</p><p>The abort codes not listed here are reserved.</p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>0x05030000</td><td class=CDLDescription>Toggle bit not alternated.</td></tr><tr><td class=CDLEntry>0x05040000</td><td class=CDLDescription>SDO protocol timed out.</td></tr><tr><td class=CDLEntry>0x05040001</td><td class=CDLDescription>Client/server command specifier not valid or unknown.</td></tr><tr><td class=CDLEntry>0x05040002</td><td class=CDLDescription>Invalid block size (block mode only).</td></tr><tr><td class=CDLEntry>0x05040003</td><td class=CDLDescription>Invalid sequence number (block mode only).</td></tr><tr><td class=CDLEntry>0x05040004</td><td class=CDLDescription>CRC error (block mode only).</td></tr><tr><td class=CDLEntry>0x05040005</td><td class=CDLDescription>Out of memory.</td></tr><tr><td class=CDLEntry>0x06010000</td><td class=CDLDescription>Unsupported access to an object.</td></tr><tr><td class=CDLEntry>0x06010001</td><td class=CDLDescription>Attempt to read a write only object.</td></tr><tr><td class=CDLEntry>0x06010002</td><td class=CDLDescription>Attempt to write a read only object.</td></tr><tr><td class=CDLEntry>0x06020000</td><td class=CDLDescription>Object does not exist in the object dictionary.</td></tr><tr><td class=CDLEntry>0x06040041</td><td class=CDLDescription>Object cannot be mapped to the PDO.</td></tr><tr><td class=CDLEntry>0x06040042</td><td class=CDLDescription>The number and length of the objects to be mapped would exceed PDO length.</td></tr><tr><td class=CDLEntry>0x06040043</td><td class=CDLDescription>General parameter incompatibility reason.</td></tr><tr><td class=CDLEntry>0x06040047</td><td class=CDLDescription>General internal incompatibility in the device.</td></tr><tr><td class=CDLEntry>0x06060000</td><td class=CDLDescription>Access failed due to an hardware error.</td></tr><tr><td class=CDLEntry>0x06070010</td><td class=CDLDescription>Data type does not match, length of service parameter does not match</td></tr><tr><td class=CDLEntry>0x06070012</td><td class=CDLDescription>Data type does not match, length of service parameter too high</td></tr><tr><td class=CDLEntry>0x06070013</td><td class=CDLDescription>Data type does not match, length of service parameter too low</td></tr><tr><td class=CDLEntry>0x06090011</td><td class=CDLDescription>Sub-index does not exist.</td></tr><tr><td class=CDLEntry>0x06090030</td><td class=CDLDescription>Invalid value for parameter (download only).</td></tr><tr><td class=CDLEntry>0x06090031</td><td class=CDLDescription>Value of parameter written too high (download only).</td></tr><tr><td class=CDLEntry>0x06090032</td><td class=CDLDescription>Value of parameter written too low (download only).</td></tr><tr><td class=CDLEntry>0x06090036</td><td class=CDLDescription>Maximum value is less than minimum value.</td></tr><tr><td class=CDLEntry>0x08000000</td><td class=CDLDescription>general error</td></tr><tr><td class=CDLEntry>0x08000020</td><td class=CDLDescription>Data cannot be transferred or stored to the application.</td></tr><tr><td class=CDLEntry>0x08000021</td><td class=CDLDescription>Data cannot be transferred or stored to the application because of local control.</td></tr><tr><td class=CDLEntry>0x08000022</td><td class=CDLDescription>Data cannot be transferred or stored to the application because of the present device state.</td></tr><tr><td class=CDLEntry>0x08000023</td><td class=CDLDescription>Object dictionary dynamic generation fails or no object dictionary is present (e.g. object dictionary  is generated from file and generation fails because of an file error).</td></tr><tr><td class=CDLEntry>0x08000024</td><td class=CDLDescription>No data available.</td></tr></table></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Constants"></a>Constants</h3></div></div>

<div class="CConstant"><div class=CTopic><h3 class=CTitle><a name="Maximum_object_size_in_Object_Dictionary"></a>Maximum object size in Object Dictionary</h3><div class=CBody><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>CO_OD_MAX_OBJECT_SIZE</td><td class=CDLDescription>Value can be in range from 4 to 889 bytes.</td></tr></table></div></div></div>

<div class="CConstant"><div class=CTopic><h3 class=CTitle><a name="Attribute_flags_for_sCO_OD_object"></a>Attribute flags for sCO_OD_object</h3><div class=CBody><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry><a name="CO_ODA_MEM_ROM"></a>CO_ODA_MEM_ROM</td><td class=CDLDescription>(0x01) - Variable is located in ROM memory.</td></tr><tr><td class=CDLEntry><a name="CO_ODA_MEM_RAM"></a>CO_ODA_MEM_RAM</td><td class=CDLDescription>(0x02) - Variable is located in RAM memory.</td></tr><tr><td class=CDLEntry><a name="CO_ODA_MEM_EEPROM"></a>CO_ODA_MEM_EEPROM</td><td class=CDLDescription>(0x03) - Variable is located in EEPROM memory.</td></tr><tr><td class=CDLEntry><a name="CO_ODA_READABLE"></a>CO_ODA_READABLE</td><td class=CDLDescription>(0x04) - SDO server may read from the variable.</td></tr><tr><td class=CDLEntry><a name="CO_ODA_WRITEABLE"></a>CO_ODA_WRITEABLE</td><td class=CDLDescription>(0x08) - SDO server may write to the variable.</td></tr><tr><td class=CDLEntry><a name="CO_ODA_RPDO_MAPABLE"></a>CO_ODA_RPDO_MAPABLE</td><td class=CDLDescription>(0x10) - Variable is mappable for RPDO.</td></tr><tr><td class=CDLEntry><a name="CO_ODA_TPDO_MAPABLE"></a>CO_ODA_TPDO_MAPABLE</td><td class=CDLDescription>(0x20) - Variable is mappable for TPDO.</td></tr><tr><td class=CDLEntry><a name="CO_ODA_TPDO_DETECT_COS"></a>CO_ODA_TPDO_DETECT_COS</td><td class=CDLDescription>(0x40) - If variable is mapped to any PDO, then PDO is automatically send, if variable changes its value.</td></tr><tr><td class=CDLEntry><a name="CO_ODA_MB_VALUE"></a>CO_ODA_MB_VALUE</td><td class=CDLDescription>(0x80) - True when variable is a multibyte value.</td></tr></table></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Variables"></a>Variables</h3></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="sCO_OD_object"></a>sCO_OD_object</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>typedef struct { UNSIGNED16 index; UNSIGNED8 maxSubIndex; UNSIGNED8 attribute; UNSIGNED8 length; const void* pData; UNSIGNED32 (*pFunct)(void *object, UNSIGNED16 index, UNSIGNED8 subIndex, UNSIGNED16 *pLength, UNSIGNED16 attribute, UNSIGNED8 dir, void* dataBuff, const void* pData); }sCO_OD_object</td></tr></table></blockquote><p>Type for Object Dictionary array.</p><p>As mentioned in <a href="#Object_Dictionary" class=LGeneric id=link22 onMouseOver="ShowTip(event, 'tt18', 'link22')" onMouseOut="HideTip('tt18')">Object Dictionary</a> topic, all Object dictionary variables are &lsquo;indexed&rsquo; inside one array.&nbsp; Each variable, array or record has its own 16-bit index and its own member in Object Dictionary array.</p><h4 class=CHeading>Variables</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>index</td><td class=CDLDescription>The index of Object from 0x1000 to 0xFFFF.</td></tr><tr><td class=CDLEntry>maxSubIndex</td><td class=CDLDescription>It is number of (sub-objects - 1).&nbsp; If Object Type is variable, then maxSubIndex is 0, otherwise maxSubIndex is equal or greater than 1.</td></tr><tr><td class=CDLEntry>attribute</td><td class=CDLDescription>If Object Type is record, attribute is set to zero.&nbsp; Attribute for each member is then set in special array with members of type <a href="#CO_ODrecord_t" class=LVariable id=link23 onMouseOver="ShowTip(event, 'tt2', 'link23')" onMouseOut="HideTip('tt2')">CO_ODrecord_t</a>.&nbsp; If Object Type is Array, attribute is common for all array members.&nbsp; See <a href="#Attribute_flags_for_sCO_OD_object" class=LConstant >Attribute flags for sCO_OD_object</a>.</td></tr><tr><td class=CDLEntry>length</td><td class=CDLDescription>If Object Type is Variable, length is the length of variable in bytes.&nbsp; If Object Type is Array, length is the length of one array member.&nbsp; If Object Type is record, length is zero.&nbsp; Length for each member is set in special array with members of type <a href="#CO_ODrecord_t" class=LVariable id=link24 onMouseOver="ShowTip(event, 'tt2', 'link24')" onMouseOut="HideTip('tt2')">CO_ODrecord_t</a>.</td></tr><tr><td class=CDLEntry>pData</td><td class=CDLDescription>If Object Type is Variable, pData is pointer to data.&nbsp; If Object Type is Array, pData is pointer to data.&nbsp; Data doesn&rsquo;t include Sub-Object 0.&nbsp; If object type is Record, pData is pointer to special array with members of type <a href="#CO_ODrecord_t" class=LVariable id=link25 onMouseOver="ShowTip(event, 'tt2', 'link25')" onMouseOut="HideTip('tt2')">CO_ODrecord_t</a>.</td></tr><tr><td class=CDLEntry>pFunct</td><td class=CDLDescription>is pointer to <a href="#SDO_server_access_function" class=LGeneric id=link26 onMouseOver="ShowTip(event, 'tt19', 'link26')" onMouseOut="HideTip('tt19')">SDO server access function</a>, which reads/writes the data object, when SDO is accessing it.</td></tr></table></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="CO_ODrecord_t"></a>CO_ODrecord_t</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>typedef struct{ const void* pData; UNSIGNED8 attribute; UNSIGNED8 length; }CO_ODrecord_t</td></tr></table></blockquote><p>Type for record type objects in Object Dictionary array.</p><p>See <a href="#sCO_OD_object" class=LVariable id=link27 onMouseOver="ShowTip(event, 'tt1', 'link27')" onMouseOut="HideTip('tt1')">sCO_OD_object</a>.</p><h4 class=CHeading>Variables</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>attribute</td><td class=CDLDescription>See <a href="#Attribute_flags_for_sCO_OD_object" class=LConstant >Attribute flags for sCO_OD_object</a>.</td></tr><tr><td class=CDLEntry>length</td><td class=CDLDescription>Length of variable in bytes.</td></tr><tr><td class=CDLEntry>pData</td><td class=CDLDescription>Pointer to data.</td></tr></table></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="OD_SDOServerParameter_t"></a>OD_SDOServerParameter_t</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>#ifndef _CO_OD_H typedef struct{ UNSIGNED8 maxSubIndex; UNSIGNED32 COB_IDClientToServer; UNSIGNED32 COB_IDServerToClient; }OD_SDOServerParameter_t</td></tr></table></blockquote><p><u>SDO Server Parameter</u> record from Object dictionary (index 0x1200+).</p><p><b>Type definition in CO_OD.h file must be the same!</b></p><h4 class=CHeading>Variables</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>maxSubIndex</td><td class=CDLDescription>Equal to 2.</td></tr><tr><td class=CDLEntry>COB_IDClientToServer</td><td class=CDLDescription>Communication object identifier for message received from client: Bit 0...10: 11-bit CAN identifier.&nbsp; Bit 11..30: reserved, set to 0.&nbsp; Bit 31: if 1, SDO server object is not used.</td></tr><tr><td class=CDLEntry>COB_IDServerToClient</td><td class=CDLDescription>Communication object identifier for server transmission.&nbsp; Meaning of specific bits is the same as above.</td></tr></table></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="CO_SDO_t"></a>CO_SDO_t</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>typedef struct{ UNSIGNED8 CANrxData[8]; //take care for correct (word) alignment! UNSIGNED8 databuffer[CO_OD_MAX_OBJECT_SIZE]; //take care for correct (word) alignment! const sCO_OD_object *ObjectDictionary; UNSIGNED16 ObjectDictionarySize; void **ObjectDictionaryPointers; UNSIGNED8 nodeId; UNSIGNED16 dataLength; UNSIGNED16 bufferOffset; UNSIGNED8 state; const sCO_OD_object *pODE; UNSIGNED16 indexOfFoundObject; UNSIGNED16 index; UNSIGNED8 subIndex; UNSIGNED16 timeoutTimer; UNSIGNED8 CANrxNew; CO_CANmodule_t *CANdevTx; CO_CANtxArray_t *CANtxBuff; }CO_SDO_t</td></tr></table></blockquote><p>Object controls SDO server.</p><h4 class=CHeading>Variables</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>ObjectDictionary</td><td class=CDLDescription>Pointer to Object dictionary.</td></tr><tr><td class=CDLEntry>ObjectDictionarySize</td><td class=CDLDescription>Size of Object Dictionary.</td></tr><tr><td class=CDLEntry>ObjectDictionaryPointers</td><td class=CDLDescription>Array of pointers of size ObjectDictionarySize.&nbsp; See also <a href="#SDO_server_access_function" class=LGeneric id=link28 onMouseOver="ShowTip(event, 'tt19', 'link28')" onMouseOut="HideTip('tt19')">SDO server access function</a> topic.</td></tr><tr><td class=CDLEntry>nodeId</td><td class=CDLDescription>CANopen Node ID of this device.</td></tr><tr><td class=CDLEntry>dataLength</td><td class=CDLDescription>Actual length of data in databuffer.</td></tr><tr><td class=CDLEntry>databuffer</td><td class=CDLDescription>Data buffer.</td></tr><tr><td class=CDLEntry>bufferOffset</td><td class=CDLDescription>Offset in buffer of next data segment being read/written.</td></tr><tr><td class=CDLEntry>state</td><td class=CDLDescription>Current internal state of the SDO server: Bit1 = 1: segmented download in progress.&nbsp; Bit2 = 1: segmented upload in progress.&nbsp; Bit4: toggled bit from previous object.</td></tr><tr><td class=CDLEntry>pODE</td><td class=CDLDescription>Pointer to current Object Dictionary object.</td></tr><tr><td class=CDLEntry>indexOfFoundObject</td><td class=CDLDescription>Similar to pODE, but this is the index of current Object Dictionary object.</td></tr><tr><td class=CDLEntry>index</td><td class=CDLDescription>Index of current object in Object Dictionary.</td></tr><tr><td class=CDLEntry>subIndex</td><td class=CDLDescription>Subindex of current object in Object Dictionary.</td></tr><tr><td class=CDLEntry>timeoutTimer</td><td class=CDLDescription>Timeout timer for SDO communication.</td></tr><tr><td class=CDLEntry>CANrxNew</td><td class=CDLDescription>Variable indicates, if new SDO message received from CAN bus.</td></tr><tr><td class=CDLEntry>CANrxData</td><td class=CDLDescription>8 data bytes of the received message.</td></tr><tr><td class=CDLEntry>CANdevTx</td><td class=CDLDescription>Pointer to CAN device used for SDO server transmission <a href="BECK_SC2x3/CO_driver-h.html#CO_CANmodule_t" class=LVariable id=link29 onMouseOver="ShowTip(event, 'tt20', 'link29')" onMouseOut="HideTip('tt20')">CO_CANmodule_t</a>.</td></tr><tr><td class=CDLEntry>CANtxBuff</td><td class=CDLDescription>CAN transmit buffer inside CANdev for CAN tx message.</td></tr></table></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="CO_SDO_receive"></a>CO_SDO_receive</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>INTEGER16 CO_SDO_receive(</td><td class=PType nowrap>void&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>object,</td></tr><tr><td></td><td class=PType nowrap>CO_CANrxMsg_t&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>msg</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Read received message from CAN module.</p><p>Function will be called (by CAN receive interrupt) every time, when CAN message with correct identifier will be received.&nbsp; For more information and description of parameters see topic <a href="BECK_SC2x3/CO_driver-h.html#Receive_CAN_message_function" class=LFunction id=link30 onMouseOver="ShowTip(event, 'tt21', 'link30')" onMouseOut="HideTip('tt21')">Receive CAN message function</a>.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="CO_ODF"></a>CO_ODF</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>UNSIGNED32 CO_ODF(</td><td class=PTypePrefix nowrap></td><td class=PType nowrap>void&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>object,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>index,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED8&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>subIndex,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>pLength,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>attribute,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED8&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>dir,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>void&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>dataBuff,</td></tr><tr><td></td><td class=PTypePrefix nowrap>const&nbsp;</td><td class=PType nowrap>void&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>pData</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Default function for SDO server access of variables from Object Dictionary.</p><p>Function copies data, when CANopen SDO communication is triggered.&nbsp; If read from Object Dictionary is requested, data are copied from pData to dataBuff.&nbsp; In case of write, data are copied from dataBuff to pData.&nbsp; If microcontroller is Big Endian, and data is multibyte variable (for example INTEGER32), byte order is reversed.</p><p>If for specific microcontroller needs to be implemented special CO_ODF function (for example if copy of ROM variables is special), then macro &lsquo;CO_ODF_MASK_DEFAULT&rsquo; must be defined in CO_driver.h file.&nbsp; It will mask default function.</p><p>For more information see topic <a href="#SDO_server_access_function" class=LGeneric id=link31 onMouseOver="ShowTip(event, 'tt19', 'link31')" onMouseOut="HideTip('tt19')">SDO server access function</a>.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="CO_ODF_1200"></a>CO_ODF_1200</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>UNSIGNED32 CO_ODF_1200(</td><td class=PTypePrefix nowrap></td><td class=PType nowrap>void&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>object,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>index,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED8&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>subIndex,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>pLength,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>attribute,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED8&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>dir,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>void&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>dataBuff,</td></tr><tr><td></td><td class=PTypePrefix nowrap>const&nbsp;</td><td class=PType nowrap>void&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>pData</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Function for accessing <u>SDO server parameter</u> (index 0x1200+) from SDO server.</p><p>For more information see topic <a href="#SDO_server_access_function" class=LGeneric id=link32 onMouseOver="ShowTip(event, 'tt19', 'link32')" onMouseOut="HideTip('tt19')">SDO server access function</a> in CO_SDO.h file.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="CO_OD_configureArgumentForODF"></a>CO_OD_configureArgumentForODF</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>void CO_OD_configureArgumentForODF(</td><td class=PType nowrap>CO_SDO_t&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>SDO,</td></tr><tr><td></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>index,</td></tr><tr><td></td><td class=PType nowrap>void&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>object</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Configure first argument, which will be passed to CO_ODFxxx function.</p><p>This function configures one element in &lsquo;ObjectDictionaryPointers&rsquo; array.&nbsp; Function assigns it the value of object.&nbsp; Later, when <a href="#SDO_server_access_function" class=LGeneric id=link33 onMouseOver="ShowTip(event, 'tt19', 'link33')" onMouseOut="HideTip('tt19')">SDO server access function</a> will be called on Object Dictionary element with specific index, this pointer will be passed to it as a first argument.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>SDO</td><td class=CDLDescription>Pointer to SDO object <a href="#CO_SDO_t" class=LVariable id=link34 onMouseOver="ShowTip(event, 'tt4', 'link34')" onMouseOut="HideTip('tt4')">CO_SDO_t</a>.</td></tr><tr><td class=CDLEntry>index</td><td class=CDLDescription>Index of object in object dictionary.</td></tr><tr><td class=CDLEntry>object</td><td class=CDLDescription>Pointer to object, which will be passed to CO_ODFxxxx.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="CO_SDO_init"></a>CO_SDO_init</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>INTEGER16 CO_SDO_init(</td><td class=PTypePrefix nowrap></td><td class=PType nowrap>CO_SDO_t&nbsp;</td><td class=PParameterPrefix nowrap>**</td><td class=PParameter nowrap>ppSDO,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>COB_IDClientToServer,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>COB_IDServerToClient,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>ObjDictIndex_SDOServerParameter,</td></tr><tr><td></td><td class=PTypePrefix nowrap>const&nbsp;</td><td class=PType nowrap>sCO_OD_object&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>ObjectDictionary,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>ObjectDictionarySize,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED8&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>nodeId,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>CO_CANmodule_t&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>CANdevRx,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>CANdevRxIdx,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>CO_CANmodule_t&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>CANdevTx,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>CANdevTxIdx</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Initialize SDO object.</p><p>Function must be called in the communication reset section.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>ppSDO</td><td class=CDLDescription>Pointer to address of SDO object <a href="#CO_SDO_t" class=LVariable id=link35 onMouseOver="ShowTip(event, 'tt4', 'link35')" onMouseOut="HideTip('tt4')">CO_SDO_t</a>.&nbsp; If address is zero, memory for new object will be allocated and address will be set.</td></tr><tr><td class=CDLEntry>COB_IDClientToServer</td><td class=CDLDescription>0x600 + nodeId by default.</td></tr><tr><td class=CDLEntry>COB_IDServerToClient</td><td class=CDLDescription>0x580 + nodeId by default.</td></tr><tr><td class=CDLEntry>ObjDict_SDOServerParameter</td><td class=CDLDescription>Pointer to <u>SDO Server Parameter</u> record from Object dictionary (index 0x1200+).</td></tr><tr><td class=CDLEntry>ObjDictIndex_SDOServerParameter</td><td class=CDLDescription>Index in Object Dictionary.</td></tr><tr><td class=CDLEntry>ObjectDictionary</td><td class=CDLDescription>Pointer to Object dictionary.</td></tr><tr><td class=CDLEntry>ObjectDictionarySize</td><td class=CDLDescription>Size of Object Dictionary.</td></tr><tr><td class=CDLEntry>nodeId</td><td class=CDLDescription>CANopen Node ID of this device.&nbsp; Value will be added to COB_IDs.</td></tr><tr><td class=CDLEntry>CANdevRx</td><td class=CDLDescription>CAN device for SDO server reception <a href="BECK_SC2x3/CO_driver-h.html#CO_CANmodule_t" class=LVariable id=link36 onMouseOver="ShowTip(event, 'tt20', 'link36')" onMouseOut="HideTip('tt20')">CO_CANmodule_t</a>.</td></tr><tr><td class=CDLEntry>CANdevRxIdx</td><td class=CDLDescription>Index of receive buffer for SDO server reception.</td></tr><tr><td class=CDLEntry>CANdevTx</td><td class=CDLDescription>CAN device for SDO server transmission <a href="BECK_SC2x3/CO_driver-h.html#CO_CANmodule_t" class=LVariable id=link37 onMouseOver="ShowTip(event, 'tt20', 'link37')" onMouseOut="HideTip('tt20')">CO_CANmodule_t</a>.</td></tr><tr><td class=CDLEntry>CANdevTxIdx</td><td class=CDLDescription>Index of transmit buffer pointer for SDO server transmission.</td></tr></table><h4 class=CHeading>Return <a href="BECK_SC2x3/CO_driver-h.html#CO_ReturnError" class=LConstant id=link38 onMouseOver="ShowTip(event, 'tt22', 'link38')" onMouseOut="HideTip('tt22')">CO_ReturnError</a></h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>CO_ERROR_NO</td><td class=CDLDescription>Operation completed successfully.</td></tr><tr><td class=CDLEntry>CO_ERROR_ILLEGAL_ARGUMENT</td><td class=CDLDescription>Error in function arguments.</td></tr><tr><td class=CDLEntry>CO_ERROR_OUT_OF_MEMORY</td><td class=CDLDescription>Memory allocation failed.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="CO_SDO_delete"></a>CO_SDO_delete</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>void CO_SDO_delete(</td><td class=PType nowrap>CO_SDO_t&nbsp;</td><td class=PParameterPrefix nowrap>**</td><td class=PParameter nowrap>ppSDO</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Delete SDO object and free memory.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>ppSDO</td><td class=CDLDescription>Pointer to pointer to SDO object <a href="#CO_SDO_t" class=LVariable id=link39 onMouseOver="ShowTip(event, 'tt4', 'link39')" onMouseOut="HideTip('tt4')">CO_SDO_t</a>.&nbsp; Pointer to SDO object is set to 0.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="CO_OD_find"></a>CO_OD_find</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>const sCO_OD_object* CO_OD_find(</td><td class=PType nowrap>CO_SDO_t&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>SDO,</td></tr><tr><td></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>index,</td></tr><tr><td></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>indexOfFoundObject</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Find object with specific index in Object Dictionary.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>SDO</td><td class=CDLDescription>Pointer to SDO object <a href="#CO_SDO_t" class=LVariable id=link40 onMouseOver="ShowTip(event, 'tt4', 'link40')" onMouseOut="HideTip('tt4')">CO_SDO_t</a>.</td></tr><tr><td class=CDLEntry>index</td><td class=CDLDescription>Index of object in object dictionary.</td></tr><tr><td class=CDLEntry>indexOfFoundObject</td><td class=CDLDescription>Pointer to externaly defined variable, where</td></tr><tr><td class=CDLEntry>second return value will be written</td><td class=CDLDescription>index of object in Object Dictionary array.&nbsp; If pointer is NULL, it will be ignored.</td></tr></table><h4 class=CHeading>Return</h4><p>Pointer of type <a href="#sCO_OD_object" class=LVariable id=link41 onMouseOver="ShowTip(event, 'tt1', 'link41')" onMouseOut="HideTip('tt1')">sCO_OD_object</a> pointing to found object, NULL if not found.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="CO_OD_getLength"></a>CO_OD_getLength</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>UNSIGNED16 CO_OD_getLength(</td><td class=PTypePrefix nowrap>const&nbsp;</td><td class=PType nowrap>sCO_OD_object&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>object,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED8&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>subIndex</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Get length of given object with specific subIndex.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>object</td><td class=CDLDescription>Pointer to object returned by <a href="#CO_OD_find" class=LFunction id=link42 onMouseOver="ShowTip(event, 'tt11', 'link42')" onMouseOut="HideTip('tt11')">CO_OD_find</a>.</td></tr><tr><td class=CDLEntry>subIndex</td><td class=CDLDescription>Sub-index of object in object dictionary.</td></tr></table><h4 class=CHeading>Return</h4><p>Data length of the variable.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="CO_OD_getAttribute"></a>CO_OD_getAttribute</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>UNSIGNED8 CO_OD_getAttribute(</td><td class=PTypePrefix nowrap>const&nbsp;</td><td class=PType nowrap>sCO_OD_object&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>object,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED8&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>subIndex</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Get attribute of given object with specific subIndex.</p><p>If Object Type is array and subIndex is zero, functon always returns &lsquo;read-only&rsquo; attribute.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>object</td><td class=CDLDescription>Pointer to object returned by <a href="#CO_OD_find" class=LFunction id=link43 onMouseOver="ShowTip(event, 'tt11', 'link43')" onMouseOut="HideTip('tt11')">CO_OD_find</a>.</td></tr><tr><td class=CDLEntry>subIndex</td><td class=CDLDescription>Sub-index of object in object dictionary.</td></tr></table><h4 class=CHeading>Return</h4><p>Attribute of the variable.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="CO_OD_getDataPointer"></a>CO_OD_getDataPointer</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>const void* CO_OD_getDataPointer(</td><td class=PTypePrefix nowrap>const&nbsp;</td><td class=PType nowrap>sCO_OD_object&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>object,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED8&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>subIndex</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Get pointer to data of given object with specific subIndex.</p><p>If Object Type is array and subIndex is zero, functon returns pointer to object-&gt;maxSubIndex variable.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>object</td><td class=CDLDescription>Pointer to object returned by <a href="#CO_OD_find" class=LFunction id=link44 onMouseOver="ShowTip(event, 'tt11', 'link44')" onMouseOut="HideTip('tt11')">CO_OD_find</a>.</td></tr><tr><td class=CDLEntry>subIndex</td><td class=CDLDescription>Sub-index of object in object dictionary.</td></tr></table><h4 class=CHeading>Return</h4><p>Pointer to data of the variable.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="CO_SDO_process"></a>CO_SDO_process</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>void CO_SDO_process(</td><td class=PType nowrap>CO_SDO_t&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>SDO,</td></tr><tr><td></td><td class=PType nowrap>UNSIGNED8&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>NMTisPreOrOperational,</td></tr><tr><td></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>timeDifference_ms,</td></tr><tr><td></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>SDOtimeoutTime</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote><p>Process SDO communication.</p><p>Function must be called cyclically.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>SDO</td><td class=CDLDescription>Pointer to SDO object <a href="#CO_SDO_t" class=LVariable id=link45 onMouseOver="ShowTip(event, 'tt4', 'link45')" onMouseOut="HideTip('tt4')">CO_SDO_t</a>.</td></tr><tr><td class=CDLEntry>NMTisPreOrOperational</td><td class=CDLDescription>Different than zero, if &lt;NMT internal State&gt; is NMT_PRE_OPERATIONAL or NMT_OPERATIONAL.</td></tr><tr><td class=CDLEntry>timeDifference_ms</td><td class=CDLDescription>Time difference from previous function call in [milliseconds].</td></tr><tr><td class=CDLEntry>SDOtimeoutTime</td><td class=CDLDescription>Timeout time for SDO communication in milliseconds.</td></tr></table></div></div></div>

</div><!--Content-->


<div id=Footer><a href="http://www.naturaldocs.org">Generated by Natural Docs</a></div><!--Footer-->


<div id=Menu><div class=MEntry><div class=MFile><a href="Readme-txt.html">CANopenNode</a></div></div><div class=MEntry><div class=MFile><a href="application-h.html">application.h</a></div></div><div class=MEntry><div class=MFile><a href="CANopen-h.html">CANopen.h</a></div></div><div class=MEntry><div class=MFile><a href="CO_Emergency-h.html">CO_Emergency.h</a></div></div><div class=MEntry><div class=MFile><a href="CO_HBconsumer-h.html">CO_HBconsumer.h</a></div></div><div class=MEntry><div class=MFile><a href="CO_NMT_Heartbeat-h.html">CO_NMT_Heartbeat.h</a></div></div><div class=MEntry><div class=MFile><a href="CO_PDO-h.html">CO_PDO.h</a></div></div><div class=MEntry><div class=MFile id=MSelected>CO_SDO.h</div></div><div class=MEntry><div class=MFile><a href="CO_SDOmaster-h.html">CO_SDOmaster.h</a></div></div><div class=MEntry><div class=MFile><a href="CO_SYNC-h.html">CO_SYNC.h</a></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent1')">PIC32</a><div class=MGroupContent id=MGroupContent1><div class=MEntry><div class=MFile><a href="PIC32/CO_driver-h.html">CO_driver.h</a></div></div><div class=MEntry><div class=MFile><a href="PIC32/eeprom-h.html">eeprom.h</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent2')">BECK_SC2x3</a><div class=MGroupContent id=MGroupContent2><div class=MEntry><div class=MFile><a href="BECK_SC2x3/CO_driver-h.html">CO_driver.h</a></div></div><div class=MEntry><div class=MFile><a href="BECK_SC2x3/eeprom-h.html">eeprom.h</a></div></div><div class=MEntry><div class=MFile><a href="BECK_SC2x3/CgiLog-h.html">CgiLog.h</a></div></div><div class=MEntry><div class=MFile><a href="BECK_SC2x3/CgiOD-h.html">CgiOD.h</a></div></div><div class=MEntry><div class=MFile><a href="BECK_SC2x3/CgiSend-h.html">CgiSend.h</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent3')">PIC24H_dsPIC33F</a><div class=MGroupContent id=MGroupContent3><div class=MEntry><div class=MFile><a href="PIC24H_dsPIC33F/CO_driver-h.html">CO_driver.h</a></div></div><div class=MEntry><div class=MFile><a href="PIC24H_dsPIC33F/eeprom-h.html">eeprom.h</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent4')">dsPIC30F</a><div class=MGroupContent id=MGroupContent4><div class=MEntry><div class=MFile><a href="dsPIC30F/CO_driver-h.html">CO_driver.h</a></div></div><div class=MEntry><div class=MFile><a href="dsPIC30F/eeprom-h.html">eeprom.h</a></div></div><div class=MEntry><div class=MFile><a href="dsPIC30F/memcpyram2flash-h.html">memcpyram2flash.h</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent5')">Index</a><div class=MGroupContent id=MGroupContent5><div class=MEntry><div class=MIndex><a href="../index/General.html">Everything</a></div></div><div class=MEntry><div class=MIndex><a href="../index/Files.html">Files</a></div></div></div></div></div><script type="text/javascript"><!--
var searchPanel = new SearchPanel("searchPanel", "HTML", "../search");
--></script><div id=MSearchPanel class=MSearchPanelInactive><input type=text id=MSearchField value=Search onFocus="searchPanel.OnSearchFieldFocus(true)" onBlur="searchPanel.OnSearchFieldFocus(false)" onKeyUp="searchPanel.OnSearchFieldChange()"><select id=MSearchType onFocus="searchPanel.OnSearchTypeFocus(true)" onBlur="searchPanel.OnSearchTypeFocus(false)" onChange="searchPanel.OnSearchTypeChange()"><option  id=MSearchEverything selected value="General">Everything</option><option value="Files">Files</option></select></div></div><!--Menu-->



<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>typedef struct { UNSIGNED16 index; UNSIGNED8 maxSubIndex; UNSIGNED8 attribute; UNSIGNED8 length; const void* pData; UNSIGNED32 (*pFunct)(void *object, UNSIGNED16 index, UNSIGNED8 subIndex, UNSIGNED16 *pLength, UNSIGNED16 attribute, UNSIGNED8 dir, void* dataBuff, const void* pData); }sCO_OD_object</td></tr></table></blockquote>Type for Object Dictionary array.</div></div><div class=CToolTip id="tt2"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>typedef struct{ const void* pData; UNSIGNED8 attribute; UNSIGNED8 length; }CO_ODrecord_t</td></tr></table></blockquote>Type for record type objects in Object Dictionary array.</div></div><div class=CToolTip id="tt3"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>#ifndef _CO_OD_H typedef struct{ UNSIGNED8 maxSubIndex; UNSIGNED32 COB_IDClientToServer; UNSIGNED32 COB_IDServerToClient; }OD_SDOServerParameter_t</td></tr></table></blockquote><u>SDO Server Parameter</u> record from Object dictionary (index 0x1200+).</div></div><div class=CToolTip id="tt4"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>typedef struct{ UNSIGNED8 CANrxData[8]; //take care for correct (word) alignment! UNSIGNED8 databuffer[CO_OD_MAX_OBJECT_SIZE]; //take care for correct (word) alignment! const sCO_OD_object *ObjectDictionary; UNSIGNED16 ObjectDictionarySize; void **ObjectDictionaryPointers; UNSIGNED8 nodeId; UNSIGNED16 dataLength; UNSIGNED16 bufferOffset; UNSIGNED8 state; const sCO_OD_object *pODE; UNSIGNED16 indexOfFoundObject; UNSIGNED16 index; UNSIGNED8 subIndex; UNSIGNED16 timeoutTimer; UNSIGNED8 CANrxNew; CO_CANmodule_t *CANdevTx; CO_CANtxArray_t *CANtxBuff; }CO_SDO_t</td></tr></table></blockquote>Object controls SDO server.</div></div><div class=CToolTip id="tt5"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>INTEGER16 CO_SDO_receive(</td><td class=PType nowrap>void&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>object,</td></tr><tr><td></td><td class=PType nowrap>CO_CANrxMsg_t&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>msg</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Read received message from CAN module.</div></div><div class=CToolTip id="tt6"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>UNSIGNED32 CO_ODF(</td><td class=PTypePrefix nowrap></td><td class=PType nowrap>void&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>object,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>index,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED8&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>subIndex,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>pLength,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>attribute,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED8&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>dir,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>void&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>dataBuff,</td></tr><tr><td></td><td class=PTypePrefix nowrap>const&nbsp;</td><td class=PType nowrap>void&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>pData</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Default function for SDO server access of variables from Object Dictionary.</div></div><div class=CToolTip id="tt7"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>UNSIGNED32 CO_ODF_1200(</td><td class=PTypePrefix nowrap></td><td class=PType nowrap>void&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>object,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>index,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED8&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>subIndex,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>pLength,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>attribute,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED8&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>dir,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>void&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>dataBuff,</td></tr><tr><td></td><td class=PTypePrefix nowrap>const&nbsp;</td><td class=PType nowrap>void&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>pData</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Function for accessing <u>SDO server parameter</u> (index 0x1200+) from SDO server.</div></div><div class=CToolTip id="tt8"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>void CO_OD_configureArgumentForODF(</td><td class=PType nowrap>CO_SDO_t&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>SDO,</td></tr><tr><td></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>index,</td></tr><tr><td></td><td class=PType nowrap>void&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>object</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Configure first argument, which will be passed to CO_ODFxxx function.</div></div><div class=CToolTip id="tt9"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>INTEGER16 CO_SDO_init(</td><td class=PTypePrefix nowrap></td><td class=PType nowrap>CO_SDO_t&nbsp;</td><td class=PParameterPrefix nowrap>**</td><td class=PParameter nowrap>ppSDO,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>COB_IDClientToServer,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>COB_IDServerToClient,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>ObjDictIndex_SDOServerParameter,</td></tr><tr><td></td><td class=PTypePrefix nowrap>const&nbsp;</td><td class=PType nowrap>sCO_OD_object&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>ObjectDictionary,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>ObjectDictionarySize,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED8&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>nodeId,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>CO_CANmodule_t&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>CANdevRx,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>CANdevRxIdx,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>CO_CANmodule_t&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>CANdevTx,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>CANdevTxIdx</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Initialize SDO object.</div></div><div class=CToolTip id="tt10"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>void CO_SDO_delete(</td><td class=PType nowrap>CO_SDO_t&nbsp;</td><td class=PParameterPrefix nowrap>**</td><td class=PParameter nowrap>ppSDO</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Delete SDO object and free memory.</div></div><div class=CToolTip id="tt11"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>const sCO_OD_object* CO_OD_find(</td><td class=PType nowrap>CO_SDO_t&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>SDO,</td></tr><tr><td></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>index,</td></tr><tr><td></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>indexOfFoundObject</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Find object with specific index in Object Dictionary.</div></div><div class=CToolTip id="tt12"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>UNSIGNED16 CO_OD_getLength(</td><td class=PTypePrefix nowrap>const&nbsp;</td><td class=PType nowrap>sCO_OD_object&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>object,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED8&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>subIndex</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Get length of given object with specific subIndex.</div></div><div class=CToolTip id="tt13"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>UNSIGNED8 CO_OD_getAttribute(</td><td class=PTypePrefix nowrap>const&nbsp;</td><td class=PType nowrap>sCO_OD_object&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>object,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED8&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>subIndex</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Get attribute of given object with specific subIndex.</div></div><div class=CToolTip id="tt14"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>const void* CO_OD_getDataPointer(</td><td class=PTypePrefix nowrap>const&nbsp;</td><td class=PType nowrap>sCO_OD_object&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>object,</td></tr><tr><td></td><td class=PTypePrefix nowrap></td><td class=PType nowrap>UNSIGNED8&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>subIndex</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Get pointer to data of given object with specific subIndex.</div></div><div class=CToolTip id="tt15"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class=PBeforeParameters nowrap>void CO_SDO_process(</td><td class=PType nowrap>CO_SDO_t&nbsp;</td><td class=PParameterPrefix nowrap>*</td><td class=PParameter nowrap>SDO,</td></tr><tr><td></td><td class=PType nowrap>UNSIGNED8&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>NMTisPreOrOperational,</td></tr><tr><td></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>timeDifference_ms,</td></tr><tr><td></td><td class=PType nowrap>UNSIGNED16&nbsp;</td><td class=PParameterPrefix nowrap></td><td class=PParameter nowrap>SDOtimeoutTime</td><td class=PAfterParameters nowrap>)</td></tr></table></td></tr></table></blockquote>Process SDO communication.</div></div><div class=CToolTip id="tt16"><div class=CFunction>Copy N data bytes from source to destination. </div></div><div class=CToolTip id="tt17"><div class=CGeneric>Send with Abort SDO transfer message.</div></div><div class=CToolTip id="tt18"><div class=CGeneric>Description of CANopen Object Distionary, as implemented here, in CANopenNode.</div></div><div class=CToolTip id="tt19"><div class=CGeneric>Function, which reads/writes Object dictionary variable data.</div></div><div class=CToolTip id="tt20"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class=Prototype><tr><td>typedef struct{ UNSIGNED16 CANbaseAddress; CO_CANrxArray_t *rxArray; UNSIGNED16 rxSize; CO_CANtxArray_t *txArray; UNSIGNED16 txSize; volatile UNSIGNED8 *curentSyncTimeIsInsideWindow; volatile UNSIGNED8 bufferInhibitFlag; volatile UNSIGNED8 firstCANtxMessage; volatile UNSIGNED8 error; volatile UNSIGNED16 CANtxCount; UNSIGNED32 errOld; void *EM; }CO_CANmodule_t</td></tr></table></blockquote>Object controls CAN module.</div></div><div class=CToolTip id="tt21"><div class=CFunction>Process received CAN message.</div></div><div class=CToolTip id="tt22"><div class=CConstant>Return values of most CANopen functions. </div></div><!--END_ND_TOOLTIPS-->




<div id=MSearchResultsWindow><iframe src="" frameborder=0 name=MSearchResults id=MSearchResults></iframe><a href="javascript:searchPanel.CloseResultsWindow()" id=MSearchResultsWindowClose>Close</a></div>


<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>